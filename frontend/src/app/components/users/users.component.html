<div class="container-fluid">
  <div class="card">
    <div class="card-body">
      <div class="card-title"><h4>Lista de usuários</h4></div>
      <table class="table">
        <thead>
        <th>Nome</th>
        <th>Ação</th>
        </thead>
        <tr *ngFor="let user of users">
          <td [style]="{width: '80%'}">{{user.firstName}}</td>
          <td [style]="{width: '20%'}">
            <div>
              <button (click)="onModalAssociar(user)" class="btn btn-danger btn-sm" type="button">Associar</button>
              <span style="margin-left: 10px; margin-right: 10px;"></span>
              <button (click)="remover(user)" class="btn btn-danger btn-sm" type="button">Remover</button>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>
</div>

<p-dialog [(visible)]="displayModal" [modal]="true" [style]="{ 'width': '80%', 'height': '80%'}"
          [contentStyle]="{'max-height': '1000px', 'overflow-y': 'auto'}">
  <ng-template pTemplate="header">
    <h2>{{userSelected ? userSelected.firstName : "Nenhum usuário selecionado"}}</h2>
  </ng-template>

  <div>
    <div class="card flex justify-content-center">
      <p-multiSelect [options]="groups" [(ngModel)]="selectedGroups"
                     placeholder="Selecione grupos" optionLabel="name"
                     display="chip" [showClear]="true"
                     (onChange)="onChange($event)">
      </p-multiSelect>
    </div>
    <br />
  </div>

  <ng-template pTemplate="footer">
    <button (click)="handleAssociar(userSelected)" class="btn btn-primary btn-sm" type="button">Salvar</button>
    <button (click)="closeModal()" class="btn btn-primary btn-sm" type="button">Fechar</button>
  </ng-template>
</p-dialog>

